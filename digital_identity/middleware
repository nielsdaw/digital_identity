from social.apps.django_app.middleware import SocialAuthExceptionMiddleware
#from social.a.exceptions import AuthCanceled


class RedirectOnCancelMiddleware(SocialAuthExceptionMiddleware):
    def get_redirect_uri(self, request, exception):
        if isinstance(exception, AuthCanceled):
            return '/auth-canceled'
        else:
            return super(RedirectOnCancelMiddleware, self).get_redirect_uri(request, exception)